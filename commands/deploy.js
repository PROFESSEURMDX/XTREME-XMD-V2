const util = require('util');
const fs = require('fs-extra');
const { zokou } = require(__dirname + "/../framework/zokou");
const { format } = require(__dirname + "/../framework/mesfonctions");
const os = require("os");
const moment = require("moment-timezone");
const s = require(__dirname + "/../set");
const more = String.fromCharCode(8206)
const readmore = more.repeat(4001)

zokou({ nomCom: "deploy", categorie: "General" }, async (dest, zk, commandeOptions) => {
    let { ms, repondre ,prefixe,nomAuteurMessage,mybotpic} = commandeOptions;
    let { cm } = require(__dirname + "/../framework//zokou");
    var coms = {};
    var mode = "public";
    
    if ((s.MODE).toLocaleLowerCase() != "yes") {
        mode = "private";
    }


    

    cm.map(async (com, index) => {
        if (!coms[com.categorie])
            coms[com.categorie] = [];
        coms[com.categorie].push(com.nomCom);
    });

    moment.tz.setDefault('Etc/GMT');

// CrÃ©er une date et une heure en GMT
const temps = moment().format('HH:mm:ss');
const date = moment().format('DD/MM/YYYY');

  let infoMsg =  `
Hello ${nomAuteurMessage},,
*á´…á´‡á´˜ÊŸá´Êá´á´‡É´á´› sá´›á´‡á´˜s* 
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â˜†
â˜…á´¡Êœá´‡É´ Êá´á´œ á´¡á´€É´á´› á´›á´ á´…á´‡á´˜ÊŸá´Ê á´€É´Ê á´¡Êœá´€á´›sá´€á´˜á´˜ Ê™á´á´› á´„Êœá´‡á´„á´‹ á´É´ Éªá´›s Ê€á´‡á´˜á´ á´€É´á´… á´„Êœá´‡á´„á´‹ á´É´ Éªá´›s á´…á´‡á´˜ÊŸá´Êá´á´‡É´á´› á´˜Ê€á´á´„á´‡á´…á´œÊ€á´‡ á´€É´á´… á´á´€á´‹á´‡ sá´œÊ€á´‡ Êá´á´œ Êœá´€á´ á´‡ á´›Êœá´‡ á´…á´‡á´˜ÊŸá´Êá´á´‡É´á´› sÉªá´›á´‡ á´‡.É¢; https://github.com/PrinceXtremeX/XTREME-XMD-V2  , Ê€á´‡É´á´…á´‡Ê€.á´„á´á´ , á´‹á´Êá´‡Ê™.á´„á´á´ á´€É´á´… á´á´€É´Ê á´á´Ê€á´‡:
âœ”Ò“ÉªÊ€sá´› á´›Êá´˜á´‡ á´›Êœá´‡ sá´„ ,Ê€á´‡á´˜á´ á´Ê€ sá´„Ê€Éªá´˜á´› á´„á´á´á´á´€É´á´… á´€É´á´… Êá´á´œ á´¡ÉªÊŸÊŸ É¢á´‡á´› Ê€á´€Êœá´‡á´‡á´ xá´á´… Ê€á´‡á´˜á´sÉªá´›á´Ê€Ê 
âœ”Ò“Ê€á´á´ á´›Êœá´‡Ê€á´‡ Êá´á´œ á´€Ê€á´‡ Ê€á´‡Ç«á´œÉªÊ€á´‡á´… á´›á´ É¢á´‡á´› Êá´á´œÊ€ *sá´‡ssÉªá´É´ Éªá´…* Ê™á´œá´› Êœá´á´¡,??..
         ğ‡ğğ– ğ“ğ ğ†ğ„ğ“ ğ’ğ„ğ’ğ’ğˆğğ ğˆğƒ
âœ á´á´˜á´‡É´ á´›ÊœÉªs ÊŸÉªÉ´á´‹ ğŸ‘‰ https://lezkush.onrender.com   á´›Êœá´‡É´ á´›á´€á´˜ á´É´ á´˜á´€ÉªÊ€ á´„á´á´…á´‡.
âœ á´‡É´á´›á´‡Ê€ Êá´á´œÊ€ á´¡Êœá´€á´›sá´€á´˜á´˜ É´á´œá´Ê™á´‡Ê€ á´¡Éªá´›Êœ á´›Êœá´‡ á´„á´á´œÉ´á´›Ê€Ê á´„á´á´…á´‡ á´‡.É¢;  529633982655 á´›Êœá´‡É´ á´›á´€á´˜ sá´œÊ™á´Éªá´› 
âœÊ€á´€Êœá´‡á´‡á´-xá´á´… á´á´¡É´á´‡Ê€ , *xá´›Ê€á´‡á´á´‡* ,á´¡ÉªÊŸÊŸ sá´‡É´á´… Êá´á´œ á´›Êœá´‡ á´„á´á´…á´‡ Éªá´á´á´‡á´…Éªá´€á´›á´‡ÊŸÊ.á´„á´á´˜Ê á´›Êœá´‡ á´„á´á´…á´‡ á´€É´á´… á´¡Êœá´€á´›sá´€á´˜á´˜ á´¡ÉªÊŸÊŸ Ê™Ê€ÉªÉ´É¢ á´€ É´á´á´›ÉªÒ“Éªá´„á´€á´›Éªá´É´ 
âœá´›á´€á´˜ á´É´ á´›Êœá´‡ É´á´á´›ÉªÒ“Éªá´„á´€á´›Éªá´É´ á´€É´á´… á´˜á´€sá´›á´‡ á´›Êœá´‡ á´„á´á´…á´‡ á´›Êœá´€á´› xá´›Ê€á´‡á´á´‡-xá´á´… á´á´¡É´á´‡Ê€ sá´‡É´á´› Êá´á´œ.
âœ á´€Ò“á´›á´‡Ê€ á´€ sá´œá´„á´„á´‡ssÒ“á´œÊŸ ÊŸá´É¢ÉªÉ´ xá´›Ê€á´‡á´á´‡-xá´á´… á´á´¡É´á´‡Ê€ ğŸ¤” Ê€á´€Êœá´‡á´‡á´ á´¡ÉªÊŸÊŸ sá´‡É´á´… Êá´á´œ á´€ *sá´‡ssÉªá´É´ Éªá´…* .sá´á´á´‡ á´¡ÉªÊŸÊŸ á´¡á´É´á´…á´‡Ê€ á´¡Êœá´‡Ê€á´‡ á´›Êœá´‡ Êœá´‡ÊŸÊŸ Éªs á´›Êœá´€á´› sá´‡ssÉªá´É´ ,,,...Éªá´› Éªs á´Šá´œsá´› Ê€ÉªÉ¢Êœá´› á´€á´› Êá´á´œÊ€ ÉªÉ´Ê™á´x /á´…á´ {Êá´á´œÊ€ á´á´¡É´ É´á´œá´Ê™á´‡Ê€ Ò“á´Ê€ á´¡Êœá´€á´›sá´€á´˜á´˜á´˜} ğŸ˜‚
âœá´„á´á´˜Ê á´›Êœá´‡ sá´‡ssÉªá´É´ Éªá´… {á´›Êœá´‡ á´É´á´‡ á´¡Éªá´›Êœ á´œÉ´Ê€á´‡á´€á´…á´€Ê™ÊŸá´‡ á´„á´á´…á´‡s á´€É´á´… ÊŸá´É´É¢ á´„á´á´˜Ê Éªá´› á´€É´á´… sá´‡É´á´… Éªá´› á´›á´ Êá´á´œÊ€ á´…á´‡á´˜ÊŸá´Êá´‡Ê€ á´Ê€ á´…á´‡á´˜ÊŸá´Ê
     ğ‡ğğ– ğ“ğ ğƒğ„ğğ‹ğğ˜ xá´›Ê€á´‡á´á´‡-xá´á´…
âœ” É´á´á´¡ á´„Êœá´‡á´„á´‹ á´É´ Ê€á´€Êœá´‡á´‡á´-xá´á´… Ê€á´‡á´˜á´sÉªá´›á´Ê€Ê ÉªÉ´ É¢Éªá´›Êœá´œÊ™ Ò“á´Ê€á´‹ á´€É´á´… É¢Éªá´ á´‡ á´€ sá´›á´€Ê€ á´›á´ á´›ÊœÉªs Ê€á´‡á´˜á´sÉªá´›á´Ê€Ê Ê™á´‡Ò“á´Ê€á´‡ á´…á´ÉªÉ´É¢ á´€É´Êá´›ÊœÉªÉ´É¢ ğŸŒŸá´Ê€ á´‡ÊŸsá´‡ xá´›Ê€á´‡á´á´‡-xá´á´… á´á´¡É´á´‡Ê€ á´¡á´É´'á´› á´€ÊŸÊŸá´á´¡ Êá´á´œ á´›á´ á´…á´‡á´˜ÊŸá´Ê ÊœÉªs Ê™á´á´›ğŸ¤–.
âœ”á´›á´€á´˜ á´É´ Êœá´‡Ê€á´á´‹á´œ á´…á´‡á´˜ÊŸá´Ê á´›á´€Ê™  É¢Éªá´ á´‡É´ á´›Êœá´‡Ê€á´‡. Ò“ÉªÊ€sá´› á´›ÊœÉªÉ´É¢ Êá´á´œ sÊœá´á´œÊŸá´… á´…á´ Éªs É¢á´‡á´›á´›ÉªÉ´É¢ Êá´á´œÊ€ *Êœá´‡Ê€á´á´‹á´œ á´€á´˜Éª á´‹á´‡Ê* ÉªÉ´sá´‡Ê€á´› Éªá´› á´›á´ á´›Êœá´‡ Ê€á´‡Ç«á´œÉªÊ€á´‡á´… sá´˜á´€á´„á´‡ .
âœ”á´‡É´á´›á´‡Ê€ á´›Êœá´‡ á´ á´€ÊŸÉªá´… *Êœá´‡Ê€á´á´‹á´œ á´€á´˜á´˜ É´á´€á´á´‡* á´€É´á´… á´€É¢á´€ÉªÉ´ Ê€á´‡á´˜á´‡á´€á´› Éªá´› á´›á´ á´›Êœá´‡ Ê™ÊŸá´€É´á´‹ sá´˜á´€á´„á´‡ á´€sá´‹ÉªÉ´É¢ Ò“á´Ê€ á´€á´˜á´˜ É´á´€á´á´‡ á´€á´„á´„á´Ê€á´…ÉªÉ´É¢ÊŸÊ. Ò“ÉªÊŸÊŸ á´‡á´ á´‡Ê€Êá´›ÊœÉªÉ´É¢ á´€É´á´… á´˜Ê€á´‡ss á´É´ á´›Êœá´‡ Ê™á´‡ÊŸá´á´¡ á´›á´€Ê™ á´…á´‡á´˜ÊŸá´Ê
âœ”ÉªÉ´ sá´á´á´‡ Êœá´‡Ê€á´á´‹á´œ á´€á´˜á´˜s á´›Êœá´‡ Ê™á´œÊŸá´… ÊŸá´É¢s á´ÉªÉ¢Êœá´› É´á´á´› sÊœá´á´¡ Ê™á´œá´› Éªá´› á´¡ÉªÊŸÊŸ á´‡á´ á´‡É´á´›á´œá´€ÊŸÊŸÊ á´…á´‡á´˜ÊŸá´Ê 
âœ”É´á´á´¡ á´„ÊŸÉªá´„á´‹ á´É´ á´›ÊœÉªs á´…á´‡á´ s É´á´œá´Ê™á´‡Ê€ á´€É´á´… É¢Éªá´ á´‡ xá´›Ê€á´‡á´á´‡-xá´á´… á´á´¡É´á´‡Ê€ á´„Ê€á´‡á´…Éªá´›s https://wa.me/529633982655
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â˜†`;
let menuMsg = `> *á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´˜Ê€ÉªÉ´á´„á´‡ xá´›Ê€á´‡á´á´‡*`;
   var lien = mybotpic();

   if (lien.match(/\.(mp4|gif)$/i)) {
    try {
        zk.sendMessage(dest, { video: { url: lien }, caption:infoMsg + menuMsg, footer: "Je suis *princextreme*, dÃ©veloper xtreme xmd" , gifPlayback : true }, { quoted: ms });
    }
    catch (e) {
        console.log("ğŸ¥µğŸ¥µ Menu erreur " + e);
        repondre("ğŸ¥µğŸ¥µ Menu erreur " + e);
    }
} 
// VÃ©rification pour .jpeg ou .png
else if (lien.match(/\.(jpeg|png|jpg)$/i)) {
    try {
        zk.sendMessage(dest, { image: { url: lien }, caption:infoMsg + menuMsg, footer: "Je suis *princextreme*, dÃ©veloper xtreme xmd" }, { quoted: ms });
    }
    catch (e) {
        console.log("ğŸ¥µğŸ¥µ Menu erreur " + e);
        repondre("ğŸ¥µğŸ¥µ Menu erreur " + e);
    }
} 
else {
    
    repondre(infoMsg + menuMsg);
    
}

}); 

